<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>

<head>
  <title>Leaderboard</title>

  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scqale=1">

  <!-- Bootstrap includes (jQuery included too!) -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7"
    crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r"
    crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS"
    crossorigin="anonymous"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>

</head>

<body>
</body>
<nav class="navbar navbar-default">
  <div class="container-fluid">
    <div class="navbar-header">
      <p class="navbar-brand" href="">withHerPoker Leaderboard</p>
    </div>
  </div>
</nav>

<div ng-app="myApp" ng-controller="customersCtrl">
  <div class='container'>
    <table class='table table-striped'>
      <thead>
        <tr>
          <th>Rank</th>
          <th>Username</th>
          <th>Chips</th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="x in data">
          <td>{{$index + 1}} </td>
          <td> {{x.username}}</td>
          <td> {{x.totalEndChips - x.totalStartChips}}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<script>
  var app = angular.module('myApp', []);
  app.controller('customersCtrl', function ($scope, $http) {
    $http.get("http://localhost:3000/leaderboard")
      .then(function (response) { $scope.data = response.data; });
  });

</script>
</body>

</html>